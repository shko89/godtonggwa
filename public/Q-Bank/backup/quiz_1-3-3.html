<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6단원: 생명 시스템 - 통합과학 퀴즈</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-screen flex flex-col">

    <!-- 헤더 -->
    <header class="bg-indigo-600 text-white p-4 shadow-md z-10 shrink-0">
        <div class="max-w-2xl mx-auto flex justify-between items-center">
            <h1 class="text-lg font-bold flex items-center gap-2">
                <i class="fas fa-dna"></i> 6. 생명 시스템 (랜덤 10문항)
            </h1>
            <a href="index.html" class="text-xs bg-indigo-500 hover:bg-indigo-400 px-3 py-1 rounded-full transition">
                <i class="fas fa-home"></i> 홈으로
            </a>
        </div>
    </header>

    <!-- 메인 컨텐츠 영역 -->
    <main class="flex-1 overflow-y-auto p-4 flex items-start justify-center">
        <div id="quiz-container" class="w-full max-w-2xl bg-white rounded-2xl shadow-xl overflow-hidden fade-in min-h-[400px] mb-8 relative">
            
            <!-- 진행 상태 바 -->
            <div class="w-full bg-gray-200 h-2">
                <div id="progress-bar" class="bg-indigo-500 h-2 transition-all duration-300" style="width: 0%"></div>
            </div>

            <!-- 시작 화면 -->
            <div id="start-screen" class="p-8 text-center flex flex-col items-center justify-center h-full min-h-[400px]">
                <div class="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mb-6 text-3xl text-indigo-600 animate-bounce">
                    <i class="fas fa-microscope"></i>
                </div>
                <h2 class="text-2xl font-bold mb-2">단원 실전 퀴즈</h2>
                <p class="text-gray-600 mb-8 leading-relaxed">
                    '생명 시스템' 단원 문제 은행(총 30문항)에서<br>
                    <strong class="text-indigo-600">10문제</strong>를 무작위로 추출했습니다.<br>
                    세포, 효소, 유전 정보의 흐름을 점검해보세요!
                </p>
                <button onclick="startQuiz()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl transition shadow-lg text-lg flex items-center gap-2 transform hover:scale-105 duration-200">
                    <i class="fas fa-play"></i> 문제 풀기 시작
                </button>
            </div>

            <!-- 문제 영역 -->
            <div id="question-area" class="hidden p-6 md:p-8">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-sm font-bold text-indigo-600 tracking-wider">Q <span id="current-num">1</span> / <span id="total-num">10</span></span>
                    <span id="score-display" class="text-sm font-semibold text-gray-500">0점</span>
                </div>

                <h2 id="question-text" class="text-xl font-bold mb-6 text-gray-800 leading-snug">
                    문제 로딩 중...
                </h2>

                <!-- 힌트 -->
                <div class="mb-6">
                    <button onclick="toggleHint()" class="text-sm text-indigo-500 hover:text-indigo-700 flex items-center gap-1 focus:outline-none transition">
                        <i class="far fa-lightbulb"></i> 힌트 보기
                    </button>
                    <div id="hint-box" class="hidden mt-2 p-3 bg-yellow-50 text-yellow-800 text-sm rounded-lg border border-yellow-200 fade-in">
                        <!-- 힌트 내용 -->
                    </div>
                </div>

                <!-- 보기 리스트 -->
                <div id="options-list" class="space-y-3"></div>

                <!-- 해설 -->
                <div id="rationale-area" class="hidden mt-6 p-4 rounded-xl border fade-in bg-gray-50">
                    <div class="flex items-start gap-3">
                        <div id="rationale-icon" class="text-2xl mt-1 shrink-0"></div>
                        <div>
                            <h3 id="rationale-title" class="font-bold text-lg mb-1"></h3>
                            <p id="rationale-text" class="text-sm leading-relaxed text-gray-700"></p>
                        </div>
                    </div>
                    <button id="next-btn" onclick="nextQuestion()" class="mt-4 w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition shadow-lg flex justify-center items-center gap-2">
                        다음 문제 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- 결과 화면 -->
            <div id="result-screen" class="hidden p-8 text-center flex flex-col items-center justify-center h-full min-h-[400px]">
                <div class="w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mb-6 text-4xl text-indigo-600">
                    <i class="fas fa-trophy"></i>
                </div>
                <h2 class="text-3xl font-bold mb-2">퀴즈 완료!</h2>
                <p class="text-gray-600 mb-8">학습이 끝났습니다.</p>
                
                <div class="w-full max-w-sm bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200">
                    <p class="text-sm text-gray-500 mb-1">최종 점수</p>
                    <p class="text-4xl font-bold text-indigo-600"><span id="final-score">0</span> / 100</p>
                </div>

                <div class="flex gap-3 w-full max-w-sm">
                    <button onclick="location.reload()" class="flex-1 bg-white border border-gray-300 text-gray-700 font-bold py-3 rounded-xl hover:bg-gray-50 transition">
                        다시 풀기
                    </button>
                    <a href="index.html" class="flex-1 bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700 transition flex items-center justify-center">
                        목록으로
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        // ==========================================
        // 6단원 문제 은행 데이터 (30문항)
        // ==========================================
        const questionBank = [
            // [세포의 구조와 기능]
            { question: "생명체를 구성하는 구조적, 기능적 기본 단위는?", answerOptions: [{text:"원자",isCorrect:false},{text:"세포",isCorrect:true,rationale:"모든 생명체는 세포로 이루어져 있으며, 세포는 생명 활동이 일어나는 기본 단위입니다."},{text:"조직",isCorrect:false},{text:"기관",isCorrect:false}], hint: "영어로는 Cell이라고 합니다." },
            { question: "식물 세포에만 있고 동물 세포에는 없는 구조는?", answerOptions: [{text:"핵",isCorrect:false},{text:"미토콘드리아",isCorrect:false},{text:"엽록체",isCorrect:true,rationale:"엽록체(광합성 담당)와 세포벽은 식물 세포에만 존재합니다."},{text:"리보솜",isCorrect:false}], hint: "광합성을 하는 초록색 기관입니다." },
            { question: "세포 내에서 단백질을 합성하는 기관은?", answerOptions: [{text:"핵",isCorrect:false},{text:"리보솜",isCorrect:true,rationale:"리보솜은 DNA의 유전 정보(mRNA)에 따라 아미노산을 연결하여 단백질을 합성합니다."},{text:"골지체",isCorrect:false},{text:"리소좀",isCorrect:false}], hint: "작은 알갱이 모양입니다." },
            { question: "세포의 생명 활동을 조절하고 유전 물질(DNA)이 들어있는 곳은?", answerOptions: [{text:"핵",isCorrect:true,rationale:"핵은 세포의 통제 센터로, 유전 정보를 저장하고 전달하는 중요한 역할을 합니다."},{text:"세포막",isCorrect:false},{text:"액포",isCorrect:false},{text:"소포체",isCorrect:false}], hint: "세포의 가장 중요한 중심 부분입니다." },
            { question: "세포 호흡이 일어나 에너지를 생산하는 '세포 내 발전소'는?", answerOptions: [{text:"엽록체",isCorrect:false},{text:"미토콘드리아",isCorrect:true,rationale:"미토콘드리아는 유기물을 분해하여 생명 활동에 필요한 에너지(ATP)를 생성합니다."},{text:"소포체",isCorrect:false},{text:"세포벽",isCorrect:false}], hint: "산소를 사용하여 에너지를 만듭니다." },
            { question: "세포막의 주성분 두 가지는?", answerOptions: [{text:"탄수화물, 단백질",isCorrect:false},{text:"인지질, 단백질",isCorrect:true,rationale:"세포막은 인지질 2중층에 단백질이 박혀 있거나 관통하는 유동 모자이크 구조입니다."},{text:"DNA, RNA",isCorrect:false},{text:"지방, 무기질",isCorrect:false}], hint: "인과 지질이 결합된 물질과 근육 성분입니다." },
            { question: "세포막의 기능인 '선택적 투과성'이란?", answerOptions: [{text:"모든 물질을 통과시킨다",isCorrect:false},{text:"아무것도 통과시키지 않는다",isCorrect:false},{text:"물질의 종류와 크기에 따라 투과를 조절한다",isCorrect:true,rationale:"세포막은 물질의 종류, 크기, 지용성 여부 등에 따라 선택적으로 물질을 통과시켜 세포 내부 환경을 일정하게 유지합니다."},{text:"에너지를 항상 소모한다",isCorrect:false}], hint: "필요한 것만 골라서 들여보냅니다." },
            { question: "에너지 소모 없이 농도가 높은 곳에서 낮은 곳으로 물질이 이동하는 현상은?", answerOptions: [{text:"확산",isCorrect:true,rationale:"확산은 농도 기울기에 따라 분자가 스스로 퍼져나가는 현상으로 에너지가 들지 않습니다."},{text:"능동 수송",isCorrect:false},{text:"삼투",isCorrect:false},{text:"광합성",isCorrect:false}], hint: "향수 냄새가 퍼지는 원리입니다." },
            { question: "반투과성 막을 경계로 물이 저농도에서 고농도 쪽으로 이동하는 현상은?", answerOptions: [{text:"확산",isCorrect:false},{text:"삼투",isCorrect:true,rationale:"삼투 현상은 용질 농도가 높은 쪽으로 물(용매)이 이동하여 농도를 맞추려는 현상입니다."},{text:"증발",isCorrect:false},{text:"여과",isCorrect:false}], hint: "배추를 소금물에 절이면 물이 빠지는 원리입니다." },
            { question: "적혈구를 저장액(맹물)에 넣으면 어떻게 되는가?", answerOptions: [{text:"변화 없다",isCorrect:false},{text:"물이 빠져나가 쭈글쭈글해진다",isCorrect:false},{text:"물이 들어와 부풀다가 터진다(용혈)",isCorrect:true,rationale:"적혈구 내부보다 바깥의 농도가 낮으므로, 물이 적혈구 안으로 들어와 부풀어 오르다 터질 수 있습니다."},{text:"색이 변한다",isCorrect:false}], hint: "물이 안으로 들어옵니다." },

            // [물질 대사와 효소]
            { question: "생명체 내에서 일어나는 모든 화학 반응을 무엇이라 하는가?", answerOptions: [{text:"소화",isCorrect:false},{text:"물질대사",isCorrect:true,rationale:"물질대사는 생명 유지를 위해 일어나는 모든 화학 반응을 총칭하며, 에너지 출입이 동반됩니다."},{text:"호흡",isCorrect:false},{text:"배설",isCorrect:false}], hint: "먹고 소화하고 에너지를 만드는 모든 과정입니다." },
            { question: "작은 분자를 합쳐 큰 분자를 만드는 반응(합성)은?", answerOptions: [{text:"동화 작용",isCorrect:true,rationale:"동화 작용은 에너지를 흡수하여 저분자를 고분자로 합성하는 과정입니다(예: 광합성, 단백질 합성)."},{text:"이화 작용",isCorrect:false},{text:"중화 반응",isCorrect:false},{text:"산화 반응",isCorrect:false}], hint: "같을 동(同)자를 써서 몸을 구성하는 물질을 만듭니다." },
            { question: "큰 분자를 분해하여 작은 분자로 만드는 반응(분해)은?", answerOptions: [{text:"동화 작용",isCorrect:false},{text:"이화 작용",isCorrect:true,rationale:"이화 작용은 고분자를 저분자로 분해하며 에너지를 방출하는 과정입니다(예: 세포 호흡, 소화)."},{text:"환원 반응",isCorrect:false},{text:"치환 반응",isCorrect:false}], hint: "다를 이(異)자를 씁니다." },
            { question: "생체 촉매인 효소의 주된 역할은?", answerOptions: [{text:"반응열을 높인다",isCorrect:false},{text:"활성화 에너지를 낮춘다",isCorrect:true,rationale:"효소는 화학 반응이 일어나는 데 필요한 최소한의 에너지인 활성화 에너지를 낮추어 반응 속도를 빠르게 합니다."},{text:"생성물의 양을 늘린다",isCorrect:false},{text:"자신이 반응하여 소모된다",isCorrect:false}], hint: "반응의 '문턱'을 낮춰줍니다." },
            { question: "효소의 주성분은 무엇인가?", answerOptions: [{text:"단백질",isCorrect:true,rationale:"대부분의 효소는 단백질로 이루어져 있어 온도와 pH의 영향을 크게 받습니다."},{text:"탄수화물",isCorrect:false},{text:"지방",isCorrect:false},{text:"무기염류",isCorrect:false}], hint: "고기를 구우면 변하는 성분입니다." },
            { question: "효소가 특정 기질하고만 반응하는 성질을 무엇이라 하는가?", answerOptions: [{text:"기질 특이성",isCorrect:true,rationale:"효소는 고유한 입체 구조를 가지고 있어 그에 맞는 특정 기질하고만 결합하여 반응합니다."},{text:"선택적 투과성",isCorrect:false},{text:"자기 복제성",isCorrect:false},{text:"항상성",isCorrect:false}], hint: "열쇠와 자물쇠 관계와 같습니다." },
            { question: "카탈레이스 효소는 과산화수소를 무엇으로 분해하는가?", answerOptions: [{text:"수소와 산소",isCorrect:false},{text:"물과 산소",isCorrect:true,rationale:"2H₂O₂ → 2H₂O + O₂ 반응을 촉매하여 거품(산소)을 발생시킵니다."},{text:"물과 수소",isCorrect:false},{text:"질소와 산소",isCorrect:false}], hint: "상처에 소독약을 바르면 생기는 거품입니다." },
            { question: "효소의 기능이 저하되는 주된 원인 두 가지는?", answerOptions: [{text:"빛, 소리",isCorrect:false},{text:"고온, 급격한 pH 변화",isCorrect:true,rationale:"효소는 단백질이므로 고온이나 pH 변화에 의해 입체 구조가 변성되어 기능을 잃습니다."},{text:"저온, 물",isCorrect:false},{text:"산소, 이산화탄소",isCorrect:false}], hint: "단백질이 변성되는 조건입니다." },
            { question: "우리 몸의 침 속에 들어있는 소화 효소는?", answerOptions: [{text:"펩신",isCorrect:false},{text:"아밀레이스",isCorrect:true,rationale:"아밀레이스는 녹말을 엿당으로 분해하는 효소입니다."},{text:"라이페이스",isCorrect:false},{text:"트립신",isCorrect:false}], hint: "녹말을 분해합니다." },
            { question: "다음 중 효소를 활용한 예가 아닌 것은?", answerOptions: [{text:"식혜 만들기",isCorrect:false},{text:"고기 연육제",isCorrect:false},{text:"소화제 복용",isCorrect:false},{text:"물 끓이기",isCorrect:true,rationale:"물 끓이기는 단순히 열에너지를 가하는 물리적 변화이며 효소 작용이 아닙니다."}], hint: "생물학적 작용이 없는 단순 가열입니다." },

            // [유전 정보의 흐름]
            { question: "생명체의 유전 정보를 저장하고 있는 물질은?", answerOptions: [{text:"DNA",isCorrect:true,rationale:"DNA(디옥시리보핵산)는 핵 속에 존재하며 생물의 형질을 결정하는 유전 정보를 저장합니다."},{text:"RNA",isCorrect:false},{text:"단백질",isCorrect:false},{text:"ATP",isCorrect:false}], hint: "이중 나선 구조입니다." },
            { question: "DNA의 기본 단위인 뉴클레오타이드의 구성은?", answerOptions: [{text:"인산-당-염기",isCorrect:true,rationale:"뉴클레오타이드는 인산, 당(디옥시리보스), 염기가 1:1:1로 결합된 구조입니다."},{text:"인산-단백질-지방",isCorrect:false},{text:"당-아미노산-염기",isCorrect:false},{text:"염기-염기-염기",isCorrect:false}], hint: "P-S-B 구조라고도 합니다." },
            { question: "DNA의 염기 중 아데닌(A)과 짝을 이루는 상보적인 염기는?", answerOptions: [{text:"구아닌(G)",isCorrect:false},{text:"사이토신(C)",isCorrect:false},{text:"티민(T)",isCorrect:true,rationale:"DNA에서 A는 항상 T와, G는 항상 C와 수소 결합을 형성합니다(상보적 결합)."},{text:"유라실(U)",isCorrect:false}], hint: "RNA에서는 유라실이지만 DNA에서는 이것입니다." },
            { question: "유전 정보의 흐름(중심 원리) 순서로 옳은 것은?", answerOptions: [{text:"DNA → RNA → 단백질",isCorrect:true,rationale:"유전 정보는 DNA에서 복제되거나, RNA로 전사된 후, 단백질로 번역되어 형질이 발현됩니다."},{text:"단백질 → RNA → DNA",isCorrect:false},{text:"RNA → DNA → 단백질",isCorrect:false},{text:"DNA → 단백질 → RNA",isCorrect:false}], hint: "설계도(DNA) -> 사본(RNA) -> 제품(단백질)" },
            { question: "핵 속의 DNA 정보를 복사하여 세포질로 전달하는 RNA를 합성하는 과정은?", answerOptions: [{text:"복제",isCorrect:false},{text:"전사",isCorrect:true,rationale:"DNA의 한 가닥을 주형으로 하여 mRNA를 합성하는 과정을 전사라고 합니다."},{text:"번역",isCorrect:false},{text:"변이",isCorrect:false}], hint: "베껴 쓴다는 뜻입니다." },
            { question: "리보솜에서 RNA의 정보에 따라 단백질을 합성하는 과정은?", answerOptions: [{text:"전사",isCorrect:false},{text:"번역",isCorrect:true,rationale:"mRNA의 코돈 정보를 아미노산 서열로 바꾸어 단백질을 만드는 과정을 번역이라 합니다."},{text:"복제",isCorrect:false},{text:"전송",isCorrect:false}], hint: "다른 언어(염기 서열)를 해석(아미노산 서열)하는 것입니다." },
            { question: "3개의 염기가 하나의 아미노산을 지정하는 암호를 무엇이라 하는가?", answerOptions: [{text:"유전자",isCorrect:false},{text:"코돈(Codon)",isCorrect:true,rationale:"mRNA 상의 3개 염기 조합인 코돈(트리플렛 코드)이 1개의 아미노산을 지정합니다."},{text:"염색체",isCorrect:false},{text:"뉴클레오솜",isCorrect:false}], hint: "트리플렛 코드라고도 합니다." },
            { question: "DNA 염기 서열이 'AAA'라면, 이를 전사한 mRNA의 코돈은?", answerOptions: [{text:"AAA",isCorrect:false},{text:"TTT",isCorrect:false},{text:"UUU",isCorrect:true,rationale:"DNA의 A는 RNA의 U(유라실)와 상보적으로 결합하므로, AAA는 UUU로 전사됩니다."},{text:"CCC",isCorrect:false}], hint: "DNA의 A 짝은 T지만, RNA에는 T 대신 U가 있습니다." },
            { question: "사람의 유전자가 세균에서도 작동하여 인슐린을 만들 수 있는 이유는?", answerOptions: [{text:"세균이 사람 세포라서",isCorrect:false},{text:"모든 생명체가 동일한 유전 암호 체계를 사용하기 때문",isCorrect:true,rationale:"지구상의 거의 모든 생명체는 동일한 유전 암호(코돈) 체계를 공유하므로, 다른 종의 유전자도 발현될 수 있습니다."},{text:"우연히 맞아서",isCorrect:false},{text:"단백질이 같아서",isCorrect:false}], hint: "생명체의 공통성 증거 중 하나입니다." },
            { question: "DNA의 염기 서열 변화로 인해 단백질 구조가 바뀌어 나타나는 질환의 예는?", answerOptions: [{text:"감기",isCorrect:false},{text:"남 모양 적혈구 빈혈증",isCorrect:true,rationale:"헤모글로빈 유전자의 염기 하나가 바뀌어 적혈구 모양이 낫 모양으로 변하는 유전병입니다."},{text:"식중독",isCorrect:false},{text:"결핵",isCorrect:false}], hint: "적혈구 모양이 낫처럼 변합니다." }
        ];

        // ==========================================
        // 퀴즈 로직
        // ==========================================
        let currentQuizList = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        function startQuiz() {
            const shuffled = [...questionBank];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            currentQuizList = shuffled.slice(0, 10);

            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('question-area').classList.remove('hidden');
            document.getElementById('total-num').innerText = currentQuizList.length;

            loadQuestion();
        }

        function loadQuestion() {
            isAnswered = false;
            const qData = currentQuizList[currentQuestionIndex];
            
            document.getElementById('current-num').innerText = currentQuestionIndex + 1;
            document.getElementById('question-text').innerText = qData.question;
            document.getElementById('hint-box').innerText = qData.hint;
            document.getElementById('hint-box').classList.add('hidden');
            
            const progress = ((currentQuestionIndex) / currentQuizList.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            const rationaleArea = document.getElementById('rationale-area');
            rationaleArea.classList.add('hidden');
            rationaleArea.classList.remove('bg-green-50', 'bg-red-50', 'border-green-200', 'border-red-200');
            
            const optionsList = document.getElementById('options-list');
            optionsList.innerHTML = '';

            qData.answerOptions.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = `w-full text-left p-4 rounded-xl border-2 border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition duration-200 font-medium text-gray-700 flex items-center gap-3 group bg-white`;
                btn.innerHTML = `
                    <span class="w-8 h-8 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center group-hover:bg-indigo-200 group-hover:text-indigo-700 transition font-bold text-sm shrink-0">${index + 1}</span>
                    <span class="leading-snug">${option.text}</span>
                `;
                btn.onclick = () => checkAnswer(option, btn, qData.answerOptions);
                optionsList.appendChild(btn);
            });
        }

        function toggleHint() {
            document.getElementById('hint-box').classList.toggle('hidden');
        }

        function checkAnswer(selectedOption, btnElement, allOptions) {
            if (isAnswered) return;
            isAnswered = true;

            const isCorrect = selectedOption.isCorrect;
            const rationale = selectedOption.rationale || "해설이 없습니다.";
            const allButtons = document.getElementById('options-list').children;

            if (isCorrect) {
                score += 10;
                document.getElementById('score-display').innerText = `${score}점`;
                styleButton(btnElement, 'correct');
                showRationale(true, rationale);
            } else {
                styleButton(btnElement, 'wrong');
                const correctIndex = allOptions.findIndex(o => o.isCorrect === true);
                if (correctIndex !== -1) styleButton(allButtons[correctIndex], 'correct-light');
                showRationale(false, rationale);
            }

            for (let btn of allButtons) {
                btn.onclick = null;
                btn.classList.add('cursor-default');
                btn.classList.remove('hover:bg-indigo-50', 'hover:border-indigo-400');
            }
        }

        function styleButton(btn, type) {
            btn.classList.remove('border-gray-200', 'bg-white');
            const iconSpan = btn.querySelector('span:first-child');
            if (type === 'correct') {
                btn.classList.add('border-green-500', 'bg-green-100', 'text-green-900');
                iconSpan.innerHTML = '<i class="fas fa-check"></i>';
                iconSpan.classList.add('bg-green-200', 'text-green-800');
            } else if (type === 'wrong') {
                btn.classList.add('border-red-500', 'bg-red-100', 'text-red-900');
                iconSpan.innerHTML = '<i class="fas fa-times"></i>';
                iconSpan.classList.add('bg-red-200', 'text-red-800');
            } else if (type === 'correct-light') {
                btn.classList.add('border-green-500', 'bg-green-50', 'text-green-800');
            }
        }

        function showRationale(isCorrect, text) {
            const area = document.getElementById('rationale-area');
            const icon = document.getElementById('rationale-icon');
            const title = document.getElementById('rationale-title');
            const body = document.getElementById('rationale-text');
            
            area.classList.remove('hidden');
            if (isCorrect) {
                area.classList.add('bg-green-50', 'border-green-200');
                icon.innerHTML = '<i class="fas fa-check-circle text-green-600"></i>';
                title.innerText = "정답입니다!";
                title.className = 'font-bold text-lg mb-1 text-green-800';
            } else {
                area.classList.add('bg-red-50', 'border-red-200');
                icon.innerHTML = '<i class="fas fa-exclamation-circle text-red-600"></i>';
                title.innerText = "오답입니다.";
                title.className = 'font-bold text-lg mb-1 text-red-800';
            }
            body.innerText = text;
            setTimeout(() => area.scrollIntoView({ behavior: 'smooth', block: 'center' }), 100);
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuizList.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('question-area').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-score').innerText = score;
            document.getElementById('progress-bar').style.width = '100%';
        }
    </script>
</body>
</html>